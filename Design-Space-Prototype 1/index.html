<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operationalize the Design Space of Behavior Change Interventions for Responsible Data Science
    </title>
    <style>
        body {
            font-family: Arial, sans-serif;
            width: 100%;
            margin: 0;
            padding: 0;
        }
        .accordion {
            cursor: pointer;
            padding: 10px;
            margin: 5px 0;
            background-color: slategray;
            border: 1px solid #bce8f1;
            border-radius: 4px;
            color: white;
        }
        .accordion.level-2 {
            background-color: darkslategray;
            border-color: #428bca;
        }
        .accordion.level-3 {
            background-color: darkslategray;
            border-color: #428bca;
        }
        .accordion.disabled {
            cursor: default;
            background-color: #e0e0e0;
            color: #aaa;
        }
        a{
          color: #fff;
          text-decoration: none;
        }
        .panel {
            padding: 0 10px;
            display: none;
            background-color: white;
            border-left: 1px solid #ccc;
            border-right: 1px solid #ccc;
            border-bottom: 1px solid #ccc;
            border-radius: 0 0 4px 4px;
        }
        .panel.show {
            display: block;
        }
        ul {
            padding-left: 20px;
            margin: 5px 0;
        }
        li {
            list-style: none;
            margin: 15px 0;
        }
        li label {
            cursor: pointer;
            font-weight: bold;
        }

        li label SPAN{
          font-weight: normal;
          margin-left: 10px;
        }

        .header {
            background-color: #f8f9fa;
            width: 98%;
            padding: 0 1%;
            display: flex;
            background: #222;
            border-color: #080808;
            height: 50px;
            line-height: 50px;
            color: #FFF;
        }

        .header .item {
            margin-right: 4%;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .header .item.title {
            font-size: 1rem;
            font-weight: bold;
        }

        h3{
            color: #333;
            font-size: 24px;
        }
        button {
          display: flex;
            background-color: #4CAF50; /* 绿色背景 */
            border: none; /* 无边框 */
            color: white; /* 文字颜色白色 */
            padding: 12px 24px; /* 内边距 */
            text-align: center; /* 文字居中 */
            text-decoration: none; /* 无下划线 */
            display: inline-block;
            font-size: 16px; /* 字体大小 */
            border-radius: 8px; /* 圆角 */
            transition: background-color 0.3s, box-shadow 0.3s; /* 过渡效果 */
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049; /* 悬停时变暗 */
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2); /* 添加阴影效果 */
        }

        button:active {
            background-color: #3e8e41; /* 点击时背景颜色更暗 */
            box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2); /* 点击时阴影稍微减小 */
            transform: translateY(2px); /* 点击时按钮轻微下移 */
        }
    </style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>

</head>
<body>
    <div class="home">
        <div class="home-container" id="content-to-download">
            <div class="header">
                <a href="index.html" class="item title">BCDS Design Space Guide</a>
                <a href="usage.html" class="item">Usage Scenario</a>
                <a href="coding.html" class="item">Coding Results</a>
            </div>
            <div class="content">
                <div class="content-container">
                    <div class="top">
                        <h3>BCDS Design Space Guide</h3>
                        <div class="title">Click on a domain to see its constructs.</div>
                    </div>

                    <div class="body">
                        <div id="accordion-container"></div>
                    </div>
                </div>
            </div>
        </div>
        <button onclick="download()">download</button>
    </div>
</body>
<script>
const data = [
  {
    id: 1,
    name: "Why",
    desc: "",
    children: [
      {
        id: 7,
        name: "Purpose",
        desc: "",
        children: [
          {
            id: 8,
            name: "Technical Convenience:",
            desc: "",
            children: [],
          },
          {
            id: 9,
            name: "Responsible Consideration:",
            desc: "",
            children: [],
          },
        ],
      },
      {
        id: 10,
        name: "Outcomes",
        desc: "",
        children: [
          {
            id: 11,
            name: "Positive Behavior Promotes Outcome:",
            desc: "",
            children: [],
          },
          {
            id: 12,
            name: "Negative Behavior Hampers Outcome:",
            desc: "",
            children: [],
          },
        ],
      },
      {
        id: 13,
        name: "Regulations",
        desc: "",
        children: [
          {
            id: 14,
            name: "Technical Standards:",
            desc: "",
            children: [],
          },
          {
            id: 15,
            name: "Legal Standards:",
            desc: "",
            children: [],
          },
          {
            id: 16,
            name: "Ethical Standards:",
            desc: "",
            children: [],
          },
        ],
      },
    ],
  },
  {
    id: 2,
    name: "Who",
    desc: "",
    children: [
      {
        id: 17,
        name: "Personal Factors",
        desc: "",
        children: [
          {
            id: 18,
            name: "Professional Profile",
            desc: "",
            children: [
              {
                id: 19,
                name: "Scientists/Academics:",
                desc: "",
                children: [],
              },
              {
                id: 20,
                name: "Engineers/Analysts:",
                desc: "",
                children: [],
              },
              {
                id: 21,
                name: "Educators:",
                desc: "",
                children: [],
              },
              {
                id: 22,
                name: "Students:",
                desc: "",
                children: [],
              },
            ],
          },
          {
            id: 23,
            name: "Professional Expertise.",
            desc: "",
            children: [
              {
                id: 24,
                name: "Data Science Expertise:",
                desc: "",
                children: [],
              },
              {
                id: 25,
                name: "Domain Knowledge:",
                desc: "",
                children: [],
              },
            ],
          },
          {
            id: 26,
            name: "Personal Profile",
            desc: "",
            children: [
              {
                id: 27,
                name: "Gender:",
                desc: "",
                children: [],
              },
              {
                id: 90,
                name: "Ethnicity:",
                desc: "",
                children: [],
              },
              {
                id: 28,
                name: "Age Groups:",
                desc: "",
                children: [],
              },
              {
                id: 29,
                name: "Personality Traits:",
                desc: "",
                children: [],
              },
            ],
          },
        ],
      },
      {
        id: 30,
        name: "Systemic Factors",
        desc: "",
        children: [
          {
            id: 31,
            name: "People",
            desc: "",
            children: [
              {
                id: 33,
                name: "Individual and Data Privilege:",
                desc: "",
                children: [],
              },
              {
                id: 34,
                name: "Collaborative Factors:",
                desc: "",
                children: [],
              },
            ],
          },
          {
            id: 32,
            name: "Process",
            desc: "",
            children: [
              {
                id: 35,
                name: "Process Orientation",
                desc: "",
                children: [],
              },
              {
                id: 36,
                name: "Project Clarity",
                desc: "",
                children: [],
              },
            ],
          },
        ],
      },
    ],
  },
  {
    id: 39,
    name: "What",
    desc: "",
    children: [
      {
        id: 40,
        name: "What Behavioral Factors Are Being Addressed?",
        desc: "",
        children: [
          {
            id: 41,
            name: "Capability?",
            desc: "",
            children: [],
          },
          {
            id: 42,
            name: "Opportunity?",
            desc: "",
            children: [],
          },
          {
            id: 43,
            name: "Motivation",
            desc: "",
            children: [],
          },
        ],
      },
      {
        id: 44,
        name: "What Attitude Change Processes Have Been Addressed?",
        desc: "",
        children: [
          {
            id: 45,
            name: "Compliance:",
            desc: "",
            children: [],
          },
          {
            id: 46,
            name: "Identification:",
            desc: "",
            children: [],
          },
          {
            id: 47,
            name: "Internalization:",
            desc: "",
            children: [],
          },
        ],
      },
    ],
  },
  {
    id: 48,
    name: "When",
    desc: "",
    children: [
      {
        id: 49,
        name: "Timing Based on Action Occurrence",
        desc: "",
        children: [
          {
            id: 52,
            name: "Before Behavior (Preventative):",
            desc: "",
            children: [],
          },
          {
            id: 53,
            name: "During Behavior (Real-time):",
            desc: "",
            children: [],
          },
          {
            id: 54,
            name: "After Behavior (Reflective):",
            desc: "",
            children: [],
          },
        ],
      },
      {
        id: 60,
        name: "Timing Based on Phase in the Data Science Process",
        desc: "",
        children: [
          {
            id: 55,
            name: "Preparation:",
            desc: "",
            children: [],
          },
          {
            id: 56,
            name: "Analysis:",
            desc: "",
            children: [],
          },
          {
            id: 57,
            name: "Deployment:",
            desc: "",
          },
          {
            id: 58,
            name: "Communication:",
            desc: "",
          },
        ],
      },
      {
        id: 59,
        name: "Timing Based on Four Stages of Human Information Processing",
        desc: "",
        children: [
          {
            id: 61,
            name: "Information Acquisition:",
            desc: "",
            children: [],
          },
          {
            id: 62,
            name: "Information Analysis:",
            desc: "",
            children: [],
          },
          {
            id: 63,
            name: "Decision and Action Selection:",
            desc: "",
            children: [],
          },
          {
            id: 64,
            name: "Action Implementation:",
            desc: "",
            children: [],
          },
        ],
      },
    ],
  },
  {
    id: 70,
    name: "Where",
    desc: "",
    children: [
      {
        id: 71,
        name: "In-situ:",
        desc: "",
        children: [],
      },
      {
        id: 72,
        name: "Ex-situ:",
        desc: "",
        children: [],
      },
    ],
  },
  {
    id: 80,
    name: "How",
    desc: "",
    children: [
      {
        id: 81,
        name: "Intrusiveness",
        desc: "",
        children: [
          {
            id: 85,
            name: "Hidden and Ignorable:",
            desc: "",
            children: [],
          },
          {
            id: 86,
            name: "Hidden and Not Ignorable:",
            desc: "",
            children: [],
          },
          {
            id: 87,
            name: "Visible and Ignorable:",
            desc: "",
            children: [],
          },
          {
            id: 88,
            name: "Visible and Not Ignorable:",
            desc: "",
          },
        ],
      },
      {
        id: 82,
        name: "Programming Requirement",
        desc: "",
        children: [
          {
            id: 89,
            name: "Coding Needed:",
            desc: "",
            children: [],
          },
          {
            id: 90,
            name: "No Coding Needed:",
            desc: "",
            children: [],
          },
        ],
      },
      {
        id: 83,
        name: "Interactivity",
        desc: "",
        children: [
          {
            id: 91,
            name: "Interactive:",
            desc: "",
            children: [],
          },
          {
            id: 92,
            name: "Static:",
            desc: "",
            children: [],
          },
        ],
      },
      {
        id: 84,
        name: "Level of Automation",
        desc: "",
        children: [
          {
            id: 93,
            name: "The computer offers no assistance:",
            desc: "",
            children: [],
          },
          {
            id: 94,
            name: "The computer offers a complete set of decision/action alternatives:",
            desc: "",
            children: [],
          },
          {
            id: 95,
            name: "The computer narrows the selection down to a few:",
            desc: "",
            children: [],
          },
          {
            id: 96,
            name: "The computer suggests one alternative: ",
            desc: "",
            children: [],
          },
          {
            id: 97,
            name: "The computer executes that suggestion if the human approves:",
            desc: "",
            children: [],
          },
          {
            id: 98,
            name: "The computer allows the human a restricted time to veto before automatic execution:",
            desc: "",
            children: [],
          },
          {
            id: 99,
            name: "The computer executes automatically, then necessarily informs the human:",
            desc: "",
            children: [],
          },
          {
            id: 100,
            name: "The computer informs the human only if asked:",
            desc: "",
            children: [],
          },
          {
            id: 101,
            name: "The computer informs the human only if it, the computer, decides to:",
            desc: "",
            children: [],
          },
          {
            id: 102,
            name: "The computer decides everything and acts autonomously, ignoring the human:",
            desc: "",
            children: [],
          },
        ],
      },
    ],
  },
];

function createAccordion(data, container, level = 1) {
    data.forEach(item => {
        if (item.children && item.children.length > 0) {
            const accordion = document.createElement('div');
            accordion.className = `accordion level-${level}`;
            accordion.innerText = item.name;

            const panel = document.createElement('div');
            panel.className = 'panel';

            createAccordion(item.children, panel, level + 1);

            accordion.addEventListener('click', () => {
                panel.classList.toggle('show');
            });

            container.appendChild(accordion);
            container.appendChild(panel);
        } else {
            const ul = document.createElement('ul');
            const li = document.createElement('li');

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';

            const label = document.createElement('label');
            label.innerText = item.name;

            label.addEventListener('click', () => {
              if (!label.querySelector('input')) {
                  const input = document.createElement('input');
                  input.type = 'text';
                  label.appendChild(input);
                  input.focus();

                  input.addEventListener('blur', () => {
                      const inputValue = input.value;
                      label.removeChild(input);

                      const span = document.createElement('span');
                      span.innerText = inputValue;
                      label.appendChild(span);

                      // Add click event to span for editing
                      span.addEventListener('click', () => {
                          editSpan(span, label);
                      });
                  });
              }
            });
            li.appendChild(checkbox);
            li.appendChild(label);
            ul.appendChild(li);
            container.appendChild(ul);
        }
    });
}

function editSpan(span, label) {
    const spanText = span.innerText;
    label.removeChild(span);

    const inputAgain = document.createElement('input');
    inputAgain.type = 'text';
    inputAgain.value = spanText;
    label.appendChild(inputAgain);
    inputAgain.focus();

    inputAgain.addEventListener('blur', () => {
      const newInputValue = inputAgain.value;
      label.removeChild(inputAgain);

      const newSpan = document.createElement('span');
      newSpan.innerText = newInputValue;

      // Bind the click event to edit the span again
      newSpan.addEventListener('click', () => {
          editSpan(newSpan, label);
      });

      label.appendChild(newSpan);
    });
}

const container = document.getElementById('accordion-container');
createAccordion(data, container);

function download(){
  const element = document.getElementById('content-to-download');
    html2pdf()
      .set({
        margin: 1, // 设置页面边距
        filename: 'page.pdf', // 下载的文件名
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 }, // 提高清晰度
        jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
      })
      .from(element)
      .save()
      .then(
        () => {
        }
      )
}
</script>
</html>